<Page x:Class="OnlineEduTaskWPF.CheckSubmissionsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Check Submissions">

    <Grid Background="White" Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" 
                  Text="ðŸ“‹ Check Student Submissions" 
                  FontSize="24" 
                  FontWeight="Bold" 
                  Margin="0,0,0,20"/>

        <!-- Filter Section -->
        <Border Grid.Row="1"
               Background="#F5F5F5"
               BorderBrush="#DDDDDD"
               BorderThickness="1"
               CornerRadius="8"
               Padding="20"
               Margin="0,0,0,20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Class Filter -->
                <StackPanel Grid.Column="0" Margin="0,0,15,0">
                    <TextBlock Text="Select Class *" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,8"/>
                    <ComboBox x:Name="cmbClass" 
                             Padding="10" 
                             FontSize="14"
                             BorderBrush="#CCCCCC"
                             BorderThickness="1"/>
                </StackPanel>

                <!-- Subject Filter -->
                <StackPanel Grid.Column="1" Margin="0,0,15,0">
                    <TextBlock Text="Select Subject *" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,8"/>
                    <ComboBox x:Name="cmbSubject" 
                             Padding="10" 
                             FontSize="14"
                             BorderBrush="#CCCCCC"
                             BorderThickness="1"/>
                </StackPanel>

                <!-- Task Filter -->
                <StackPanel Grid.Column="2">
                    <TextBlock Text="Select Task *" FontWeight="SemiBold" FontSize="14" Margin="0,0,0,8"/>
                    <ComboBox x:Name="cmbTask" 
                             Padding="10" 
                             FontSize="14"
                             BorderBrush="#CCCCCC"
                             BorderThickness="1"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Summary -->
        <TextBlock Grid.Row="2"
                  x:Name="txtSummary"
                  FontSize="14"
                  FontWeight="SemiBold"
                  Foreground="#4CAF50"
                  Margin="0,0,0,15"
                  Visibility="Collapsed"/>

        <!-- Submissions DataGrid -->
        <DataGrid Grid.Row="4" 
                 x:Name="dgSubmissions" 
                 AutoGenerateColumns="False"
                 CanUserAddRows="False"
                 IsReadOnly="True"
                 GridLinesVisibility="Horizontal"
                 HeadersVisibility="Column"
                 AlternatingRowBackground="#F5F5F5"
                 BorderBrush="#DDDDDD"
                 BorderThickness="1"
                 MouseDoubleClick="dgSubmissions_MouseDoubleClick"
                 Cursor="Hand">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Student Code" Binding="{Binding StudentCode}" Width="120"/>
                <DataGridTextColumn Header="Student Name" Binding="{Binding StudentName}" Width="*"/>
                <DataGridTextColumn Header="Status" Binding="{Binding SubmissionStatus}" Width="150"/>
                <DataGridTextColumn Header="Submitted Date" Binding="{Binding SubmittedDate, StringFormat=dd/MM/yyyy HH:mm}" Width="150"/>
                <DataGridTextColumn Header="Score" Binding="{Binding ScoreDisplay}" Width="100"/>
            </DataGrid.Columns>
        </DataGrid>

        <TextBlock Grid.Row="3"
                  Margin="0,0,0,10"
                  FontSize="12"
                  Foreground="#666"
                  FontStyle="Italic"
                  Text="ðŸ’¡ Hint: Double-click a row to grade the submission"/>
    </Grid>
</Page>
